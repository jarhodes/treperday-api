<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="admin/fragments/template.html :: head">
</head>
<body>
	<div th:insert="admin/fragments/template.html :: userdetails">
	</div>
	<h1>TrePerDay</h1>
	<ul th:insert="admin/fragments/template.html :: nav"></ul>
	<h2>Users</h2>
    <table class="table table-striped">
    	<thead>
			<tr>
			    <th>id</th>
			    <th>Last name</th>
			    <th>First name</th>
			    <th>Username</th>
			    <th>Role</th>
			    <th></th>
			</tr>
		</thead>
		<tbody>  
	    	<tr th:each="user : ${users}">
	    		<td th:text="${user.id}"></td>
	    		<td th:text="${user.lastName}"></td>
	    		<td th:text="${user.firstName}"></td>
	    		<td th:text="${user.username}"></td>
	    		<td th:text="${user.role}"></td>
	    		<td>
	    			<a class="btn btn-primary" th:href="@{/admin/user/edit/{id}(id=${user.id})}" role="button">Edit</a>
	    			<a class="btn btn-primary" th:href="@{/admin/user/resetPassword/{id}(id=${user.id})}" role="button">Reset password</a>
	    			<a class="btn btn-danger" th:href="@{/admin/user/delete/{id}(id=${user.id})}" role="button">Delete</a>
	    		</td>
	    	</tr>
    	</tbody>
     </table>
     <a class="btn btn-success" th:href="@{/admin/user/create}" role="button">Add a new user</a>
</body>
</html>